[
    {'file_name': '19AEE9EBD098A0A4_attachment_Acord_125_Berkshire_Hathway.pdf', 'summary': 'The applicant is Berkshire Hathaway, located at 123 Penny Lane, Springfield, IL, 62629, operating in IT Services and Operations. The proposed policy is with Phoenix Insurers Ltd. under Program 1, with an effective date of July 15, 2025, and expiration on July 15, 2028. Lines of business indicated include Commercial Property and Accounts Receivable/Valuable Papers, with relevant supplements such as Apartment Building and Contractors attached. The business is classified as an owner-occupied premises within city limits and reports annual revenues of $725,000 with 17 full-time employees. Primary contacts for the account are Michael Hill and Bill Deeney, both reachable via provided phone numbers and email addresses.'},
    {'file_name': '19AEE9EBD098A0A4_attachment_Loss_Run_Berkshire.pdf', 'summary': 'The insured, located at 123 Penny Lane, Springfield, IL, has maintained commercial property coverage with Berkshire Hathaway over the past three years and reported three claims during this period. The losses include water damage from a burst pipe in September 2023 (closed, $12,500 paid), minor wind damage to exterior signage in January 2024 (closed, $2,100 paid), and a small office fire in November 2025 (open, $45,000 paid with $25,000 reserved). The total incurred losses for all claims amount to $84,600, with $59,600 paid and $25,000 currently reserved. All claims occurred at the same location, and the most recent claim remains open. The loss history indicates moderate frequency and severity, with the largest outstanding exposure related to the recent fire loss.'},
    {'file_name': '19AEE9EBD098A0A4_attachment_SOV - Berkshire.pdf', 'summary': 'The insured is Berkshire Hathaway, with coverage placed through Prime Brokers Pvt. Ltd. and Phoenix Insurers Ltd. The property is located at 123 Penny Lane, Springfield, Illinois, and is valued at $35,000,000 on an Actual Cash Value basis. The policy includes 80% coinsurance and covers basic, earthquake, and flood perils, with vandalism and sprinkler leakage excluded. The effective date of coverage is July 15, 2025. The information has been confirmed as accurate by the lead broker, William Grey.'}
]

in ther terminal: 
Summaries Final :  [{'file_name': '19AEE9EBD098A0A4_attachment_Acord_125_Berkshire_Hathway.pdf', 'summary': 'The applicant is Berkshire Hathaway, located at 123 Penny Lane, Springfield, IL, 62629, and operates in IT Services and Operations. The proposed policy is with Phoenix Insurers Ltd. under Program 1, with an effective date of July 15, 2025, and expiration on July 15, 2028. Lines of business indicated include Commercial Property and Accounts Receivable/Valuable Papers, with relevant supplements attached such as Apartment Building and Contractors. The annual revenues are reported at $725,000, and the occupied area is 17 (units not specified). The applicant is listed as the owner of the premises, and primary contacts are Michael Hill and Bill Deeney.'}, {'file_name': '19AEE9EBD098A0A4_attachment_Loss_Run_Berkshire.pdf', 'summary': 'The insured, located at 123 Penny Lane, Springfield, IL, has maintained commercial property coverage with Berkshire Hathaway for the past three years. During this period, three claims were reported: a $12,500 paid water damage loss in September 2023, a $2,100 paid wind damage claim in January 2024, and an open fire loss from November 2025 with $45,000 paid and $25,000 reserved, totaling $70,000 incurred. All claims occurred at the same address, with two now closed and one still open. The total incurred losses for the period amount to $84,600, with three claims in total and no indication of liability or casualty exposures. The loss history reflects moderate frequency and severity, with the most significant exposure related to the recent fire loss.'}, {'file_name': '19AEE9EBD098A0A4_attachment_SOV - Berkshire.pdf', 'summary': 'The insured is Berkshire Hathaway, with coverage placed through Prime Brokers Pvt. Ltd. and Phoenix Insurers Ltd. The property at 123 Penny Lane, Springfield, Illinois, is valued at $35,000,000 on an Actual Cash Value basis. The policy includes 80% coinsurance and covers basic, broad, and special causes of loss, as well as earthquake and flood perils. There are exclusions for sprinkler leakage and vandalism. The information provided is confirmed as accurate by the lead broker, William Grey, as of July 15, 2025.'}]


now from this list of dictiponary i want to iterate through it and extract first file name along with its summary (in the format which is dictionary (i hope i am correct with the format i am not sure)), now that filename and summary which is stored in a dictioknary variable shou.d be passed to a prompt which identifies the type of dicument based on the file name and the summary that is present in the dictionary variable once it identifies then there will be conditions for eg the document is Acord then prompt for acord will be called , if document is Loss history then loss history prompt will be called and so on so there will be 3 categoreis it can be Acord, Loss history , SOV, 
so in total there will be 4 prompts
1 prompt is for document type decision
other 3 prompts are for summary of those 3 document types as there prompt will be different based on the document type 

flow eg: now if the document is Acord and then the Acord related prompt is called   
and once that prompt provides the summary the dictionary that stored the first file  name and summary should be emptied now the second file anme and summary should be populated in the same dictionary variable that we created earlier and now the flow remains same for that particular filename and summary 

[
    {'file_name': '19AEE9EBD098A0A4_attachment_Acord_125_Berkshire_Hathway.pdf', 'summary': 'The applicant is Berkshire Hathaway, located at 123 Penny Lane, Springfield, IL, 62629, operating in IT Services and Operations. The proposed policy is with Phoenix Insurers Ltd. under Program 1, with an effective date of July 15, 2025, and expiration on July 15, 2028. Lines of business indicated include Commercial Property and Accounts Receivable/Valuable Papers, with relevant supplements such as Apartment Building and Contractors attached. The business is classified as an owner-occupied premises within city limits and reports annual revenues of $725,000 with 17 full-time employees. Primary contacts for the account are Michael Hill and Bill Deeney, both reachable via provided phone numbers and email addresses.'},
    {'file_name': '19AEE9EBD098A0A4_attachment_Loss_Run_Berkshire.pdf', 'summary': 'The insured, located at 123 Penny Lane, Springfield, IL, has maintained commercial property coverage with Berkshire Hathaway over the past three years and reported three claims during this period. The losses include water damage from a burst pipe in September 2023 (closed, $12,500 paid), minor wind damage to exterior signage in January 2024 (closed, $2,100 paid), and a small office fire in November 2025 (open, $45,000 paid with $25,000 reserved). The total incurred losses for all claims amount to $84,600, with $59,600 paid and $25,000 currently reserved. All claims occurred at the same location, and the most recent claim remains open. The loss history indicates moderate frequency and severity, with the largest outstanding exposure related to the recent fire loss.'},
    {'file_name': '19AEE9EBD098A0A4_attachment_SOV - Berkshire.pdf', 'summary': 'The insured is Berkshire Hathaway, with coverage placed through Prime Brokers Pvt. Ltd. and Phoenix Insurers Ltd. The property is located at 123 Penny Lane, Springfield, Illinois, and is valued at $35,000,000 on an Actual Cash Value basis. The policy includes 80% coinsurance and covers basic, earthquake, and flood perils, with vandalism and sprinkler leakage excluded. The effective date of coverage is July 15, 2025. The information has been confirmed as accurate by the lead broker, William Grey.'}
]

Summaries Final :  [{'file_name': '19AEE9EBD098A0A4_attachment_Acord_125_Berkshire_Hathway.pdf', 'summary': 'The applicant is Berkshire Hathaway, located at 123 Penny Lane, Springfield, IL, 62629, and operates in IT Services and Operations. The proposed policy is with Phoenix Insurers Ltd. under Program 1, with an effective date of July 15, 2025, and expiration on July 15, 2028. Lines of business indicated include Commercial Property and Accounts Receivable/Valuable Papers, with relevant supplements attached such as Apartment Building and Contractors. The annual revenues are reported at $725,000, and the occupied area is 17 (units not specified). The applicant is listed as the owner of the premises, and primary contacts are Michael Hill and Bill Deeney.'},




separate summary.py


from dotenv import load_dotenv
import os
import json
from Data_Filler import extract_filenames_and_summaries
from Data_Filler import connect_to_blob, beautify_extracted_data
from openai import AzureOpenAI  # Correct import for Azure OpenAI

# Load environment variables
load_dotenv()

AZURE_OPENAI_ENDPOINT = os.getenv("AZURE_OPENAI_ENDPOINT")
AZURE_OPENAI_API_VERSION = os.getenv("AZURE_OPENAI_API_VERSION")
AZURE_OPENAI_API_KEY = os.getenv("AZURE_OPENAI_API_KEY")
AZURE_OPENAI_CHAT_DEPLOYMENT = os.getenv("AZURE_OPENAI_CHAT_DEPLOYMENT")

if not (
    AZURE_OPENAI_ENDPOINT
    and AZURE_OPENAI_API_VERSION
    and AZURE_OPENAI_API_KEY
    and AZURE_OPENAI_CHAT_DEPLOYMENT
):
    raise RuntimeError(
        "Azure OpenAI env vars missing. Please set "
        "AZURE_OPENAI_ENDPOINT, AZURE_OPENAI_API_VERSION, "
        "AZURE_OPENAI_API_KEY and AZURE_OPENAI_CHAT_DEPLOYMENT"
    )

# Create Azure OpenAI client
client = AzureOpenAI(
    api_key=AZURE_OPENAI_API_KEY,
    api_version=AZURE_OPENAI_API_VERSION,
    azure_endpoint=AZURE_OPENAI_ENDPOINT,
)


def individual_summary(attachments: list[dict]) -> str:
    """

    """

    # Initialize an empty string to store summaries
    summaries = ""
    
    summaries = attachments
    # Return the combined summaries
    print("Summaries Final : ", summaries)
    
    return summaries


so i want this logic in separate summary.py
