(venv) Jarvis@JarvisPhase2:~/Musaddique/project_root/eligibility_agent$ python3 langgraph_client.py 
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 13, 'prompt_tokens': 403, 'total_tokens': 416, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JE5qDyKharNVWFFzeqTtpDFLtj', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-c8da-7772-a22e-78225664a87e-0', tool_calls=[{'name': 'email_reader_mcp', 'args': {}, 'id': 'call_DHOW8oNQ1JvsF3euAFttz9VG', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 403, 'output_tokens': 13, 'total_tokens': 416, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "subject": "Insurance Quote Request",\n    "body": "This email is related to insurance"\n  }\n}', 'id': 'lc_f8aa28f4-f82e-4489-b277-9e73ca2c93ad'}], name='email_reader_mcp', id='22395d1a-e07f-4dd4-97a2-a96849ffae4e', tool_call_id='call_DHOW8oNQ1JvsF3euAFttz9VG')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 13, 'prompt_tokens': 472, 'total_tokens': 485, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JFiMp8GgwVuqMYPVhRIlI7JhNZ', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-cba8-7852-8958-7dd8bc4699af-0', tool_calls=[{'name': 'write_email_to_excel', 'args': {}, 'id': 'call_vNagOUZUh2FWyxoNzBS0SLWE', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 472, 'output_tokens': 13, 'total_tokens': 485, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "status": "written"\n  }\n}', 'id': 'lc_273921a6-18f6-4e51-9eea-57ec44f3e01e'}], name='write_email_to_excel', id='8e022848-da67-46c7-ba3d-0a69450d1f8a', tool_call_id='call_vNagOUZUh2FWyxoNzBS0SLWE')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 13, 'prompt_tokens': 527, 'total_tokens': 540, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JGAuiJ0TA1jW0w2woocGTTlGyb', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-cecf-77f0-a4ac-5ab184eef1b7-0', tool_calls=[{'name': 'email_attachment_mcp', 'args': {}, 'id': 'call_raQjop6n378zwJkyFaUoucD8', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 527, 'output_tokens': 13, 'total_tokens': 540, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "attachments": [\n      {\n        "blob_url": "accord_policy_1.pdf"\n      },\n      {\n        "blob_url": "quote_details_1.pdf"\n      }\n    ]\n  }\n}', 'id': 'lc_5d1e6fcc-8fb3-4e91-8b9d-514c5b926e85'}], name='email_attachment_mcp', id='58aaeeb6-2bba-4625-8dfe-209be6d80753', tool_call_id='call_raQjop6n378zwJkyFaUoucD8')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 59, 'prompt_tokens': 614, 'total_tokens': 673, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JHzYELWq31NBkEiTq6UuXJL97C', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-d1f2-7382-857b-fd53a50336a4-0', tool_calls=[{'name': 'layout_detection_mcp', 'args': {'blob_url': 'accord_policy_1.pdf'}, 'id': 'call_vQwNXXcaW04KGKSh6qkyXHCb', 'type': 'tool_call'}, {'name': 'layout_detection_mcp', 'args': {'blob_url': 'quote_details_1.pdf'}, 'id': 'call_cET3XE6t3E1soS0FIOUzAPZ8', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 614, 'output_tokens': 59, 'total_tokens': 673, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "layout": "ACORD"\n  }\n}', 'id': 'lc_7e8af0c0-e22a-4c21-8bbb-141193dd8e34'}], name='layout_detection_mcp', id='a85f4a08-1455-48eb-8268-0b8fd3144128', tool_call_id='call_vQwNXXcaW04KGKSh6qkyXHCb'), ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "layout": "ACORD"\n  }\n}', 'id': 'lc_b611afc0-b142-4d22-adea-1680ccc2236e'}], name='layout_detection_mcp', id='c3b698a5-bc64-45b5-97be-d1761027b3b1', tool_call_id='call_cET3XE6t3E1soS0FIOUzAPZ8')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 59, 'prompt_tokens': 735, 'total_tokens': 794, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JITmXpCNc976zHn3MiuDyHrL96', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-d60f-77f1-9bc9-255882bfe201-0', tool_calls=[{'name': 'document_extract_mcp', 'args': {'blob_url': 'accord_policy_1.pdf'}, 'id': 'call_NTbJDnBzIzteoVKbMeH869Rz', 'type': 'tool_call'}, {'name': 'document_extract_mcp', 'args': {'blob_url': 'quote_details_1.pdf'}, 'id': 'call_vvFvu95EFfCcaY09i1TXiyce', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 735, 'output_tokens': 59, 'total_tokens': 794, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "Document_Confidence_Score": 0.95\n  }\n}', 'id': 'lc_9ba25c56-2a2f-47b4-96ee-20aa42568ea2'}], name='document_extract_mcp', id='b7828a97-a8e6-44f8-8a59-a163eb83cc9a', tool_call_id='call_NTbJDnBzIzteoVKbMeH869Rz'), ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "Document_Confidence_Score": 0.95\n  }\n}', 'id': 'lc_7e5779f6-b3f4-463d-96f0-bf95c13c5792'}], name='document_extract_mcp', id='25686289-4316-4608-adc9-9667bd678336', tool_call_id='call_vvFvu95EFfCcaY09i1TXiyce')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 34, 'prompt_tokens': 865, 'total_tokens': 899, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JJvatLA5UYoEWLpyKy8eHOBCPX', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-d9cf-73a3-95ee-90e85779ed9b-0', tool_calls=[{'name': 'query_pdf_vectorizer_mcp', 'args': {'query': 'What is the Line of Business?', 'blob_url': 'accord_policy_1.pdf'}, 'id': 'call_18Hcgs1yom5x2mJFwtzDsQa3', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 865, 'output_tokens': 34, 'total_tokens': 899, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "embedded": true\n  }\n}', 'id': 'lc_a2960b76-2eaa-4bb0-9d12-d59c359a57e5'}], name='query_pdf_vectorizer_mcp', id='80950e92-8aae-4601-9e57-35b8028bbd3d', tool_call_id='call_18Hcgs1yom5x2mJFwtzDsQa3')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 23, 'prompt_tokens': 942, 'total_tokens': 965, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JK4FxVo9XgaJsOrCam9sI86nHI', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-dce8-7c32-8c9f-0e4d0ad0cf68-0', tool_calls=[{'name': 'attachment_summary_mcp', 'args': {'blob_url': 'accord_policy_1.pdf'}, 'id': 'call_8qyUB8rOlq2encM344sXpDV5', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 942, 'output_tokens': 23, 'total_tokens': 965, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "summary": "All attachments summarized"\n  }\n}', 'id': 'lc_46478ab0-3d7d-4d2d-b41c-5ee2213be8e7'}], name='attachment_summary_mcp', id='e2881290-724c-452e-80fd-8f0da5e2b58b', tool_call_id='call_8qyUB8rOlq2encM344sXpDV5')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 1009, 'total_tokens': 1031, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JKvkkWNsOrRZD9e3jRvz6tEVg2', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-dfe6-7060-84da-15d2659dad26-0', tool_calls=[{'name': 'layout_detection_mcp', 'args': {'blob_url': 'accord_policy_1.pdf'}, 'id': 'call_E23WqFWnYhCwwC3YSs5G3bjo', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1009, 'output_tokens': 22, 'total_tokens': 1031, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "layout": "ACORD"\n  }\n}', 'id': 'lc_e72c651f-f507-4ffd-a742-88a265dc8b42'}], name='layout_detection_mcp', id='d8160b67-93e3-4e9d-97a6-a907f349bcfb', tool_call_id='call_E23WqFWnYhCwwC3YSs5G3bjo')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 1074, 'total_tokens': 1096, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JLR41fLxtCNJ3DEIR6jgawA5sb', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-e282-7c03-9071-6a66b7510495-0', tool_calls=[{'name': 'document_extract_mcp', 'args': {'blob_url': 'accord_policy_1.pdf'}, 'id': 'call_F4EOf4I55qqIYv4yuYJ6pn7w', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1074, 'output_tokens': 22, 'total_tokens': 1096, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "Document_Confidence_Score": 0.95\n  }\n}', 'id': 'lc_25c0cbec-26ec-4528-837d-11e7e9ba6499'}], name='document_extract_mcp', id='ef6edc2b-8ef1-475c-a8d9-090d40ad5c83', tool_call_id='call_F4EOf4I55qqIYv4yuYJ6pn7w')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 29, 'prompt_tokens': 1144, 'total_tokens': 1173, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1024}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JMpxECrYyN0RAZFcX28jlT8wAY', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-e554-7eb2-a0b8-501462ff794a-0', tool_calls=[{'name': 'query_pdf_vectorizer_mcp', 'args': {'query': 'Commercial Property', 'blob_url': 'accord_policy_1.pdf'}, 'id': 'call_OW94e0v7GwAcpYNzJSJqMuZl', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1144, 'output_tokens': 29, 'total_tokens': 1173, 'input_token_details': {'audio': 0, 'cache_read': 1024}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "embedded": true\n  }\n}', 'id': 'lc_09ef2af5-4190-422e-8b64-342c524850df'}], name='query_pdf_vectorizer_mcp', id='a4d9aa4a-30b1-4c3a-a0fd-65e3b5c71e48', tool_call_id='call_OW94e0v7GwAcpYNzJSJqMuZl')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 35, 'prompt_tokens': 1216, 'total_tokens': 1251, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JMtusoUkf6em6Y1Erd2tmPEQld', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-e801-7621-9ef7-af8465aa7448-0', tool_calls=[{'name': 'query_pdf_vectorizer_mcp', 'args': {'query': 'Is the line of business Commercial Property?', 'blob_url': 'accord_policy_1.pdf'}, 'id': 'call_RMMg22nk7x0We7HQwercOmrK', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1216, 'output_tokens': 35, 'total_tokens': 1251, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "embedded": true\n  }\n}', 'id': 'lc_42ba8e02-47b6-41c9-82d8-11bc73ef60bc'}], name='query_pdf_vectorizer_mcp', id='f2ca886d-d2c0-48ab-979d-424b711e4cfd', tool_call_id='call_RMMg22nk7x0We7HQwercOmrK')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 23, 'prompt_tokens': 1294, 'total_tokens': 1317, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1152}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JNPa30KMucBvhaU7AphmW5kdHV', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-eb54-7f00-8b31-d802dad58117-0', tool_calls=[{'name': 'attachment_summary_mcp', 'args': {'blob_url': 'quote_details_1.pdf'}, 'id': 'call_lK6ONmze2IUbJx2bnajnyBrN', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1294, 'output_tokens': 23, 'total_tokens': 1317, 'input_token_details': {'audio': 0, 'cache_read': 1152}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "summary": "All attachments summarized"\n  }\n}', 'id': 'lc_7c0589d2-36e8-4996-901b-f0d24a5819d9'}], name='attachment_summary_mcp', id='05148e19-87c2-4d15-b511-5979f0c68a16', tool_call_id='call_lK6ONmze2IUbJx2bnajnyBrN')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 1361, 'total_tokens': 1383, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JOxtTLOyGLjbvO40zUEWNrSGHp', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-ee47-7663-bf13-1e8382f83213-0', tool_calls=[{'name': 'document_extract_mcp', 'args': {'blob_url': 'quote_details_1.pdf'}, 'id': 'call_jDuolWh9VgfntrxXphMuLS9a', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1361, 'output_tokens': 22, 'total_tokens': 1383, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "Document_Confidence_Score": 0.95\n  }\n}', 'id': 'lc_5298d310-116b-4bc1-ade6-90f6a2debdb5'}], name='document_extract_mcp', id='82e416e6-563b-4eaa-9ce0-a12ddb77cd74', tool_call_id='call_jDuolWh9VgfntrxXphMuLS9a')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 34, 'prompt_tokens': 1431, 'total_tokens': 1465, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1280}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JPsbUMzbTD2PalpDsPCNNE8T22', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-f1aa-7fb0-8a4e-f5a6a3131bd1-0', tool_calls=[{'name': 'query_pdf_vectorizer_mcp', 'args': {'query': 'Is this insurance for Commercial Property?', 'blob_url': 'quote_details_1.pdf'}, 'id': 'call_y64WjvwxQcGJWLAfJB7ZqtkJ', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1431, 'output_tokens': 34, 'total_tokens': 1465, 'input_token_details': {'audio': 0, 'cache_read': 1280}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "embedded": true\n  }\n}', 'id': 'lc_edc7bafa-b085-4e97-bb21-00f30ece9dfc'}], name='query_pdf_vectorizer_mcp', id='aad07143-a76d-4eb5-9116-4a3a8a940a1b', tool_call_id='call_y64WjvwxQcGJWLAfJB7ZqtkJ')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 1508, 'total_tokens': 1538, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1408}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JQtWhDtpJoFzWrISvZIZ0hzZ6R', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-f48b-7f60-8084-004d3d96f6ca-0', tool_calls=[{'name': 'query_pdf_vectorizer_mcp', 'args': {'query': 'Line of Business', 'blob_url': 'quote_details_1.pdf'}, 'id': 'call_Wl77uO2wTkWswCBzspENWHeb', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1508, 'output_tokens': 30, 'total_tokens': 1538, 'input_token_details': {'audio': 0, 'cache_read': 1408}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "embedded": true\n  }\n}', 'id': 'lc_1f0aad22-c358-4ca1-a87f-de8e27cc6136'}], name='query_pdf_vectorizer_mcp', id='22e89d19-0c1d-4767-a91a-f2d572a74a4e', tool_call_id='call_Wl77uO2wTkWswCBzspENWHeb')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 1581, 'total_tokens': 1614, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1408}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JQmzc1LH6EtpRz9WJQhvSgRqSD', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-f7e4-78a0-947d-424d38b5f6e9-0', tool_calls=[{'name': 'query_pdf_vectorizer_mcp', 'args': {'query': 'Line of Business is Commercial Property', 'blob_url': 'quote_details_1.pdf'}, 'id': 'call_UTNMBjqk0AL9xVATObcQgjJq', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1581, 'output_tokens': 33, 'total_tokens': 1614, 'input_token_details': {'audio': 0, 'cache_read': 1408}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "embedded": true\n  }\n}', 'id': 'lc_86ecc539-c72e-4d96-bae9-33bbcfc09ba6'}], name='query_pdf_vectorizer_mcp', id='272edf04-70e5-442e-a1c4-7474659143db', tool_call_id='call_UTNMBjqk0AL9xVATObcQgjJq')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 1657, 'total_tokens': 1679, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1536}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JRzp6hVGOAxfjWsCsdSSpItyZ7', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-faf0-7e31-afb3-d9bc8390f79d-0', tool_calls=[{'name': 'layout_detection_mcp', 'args': {'blob_url': 'quote_details_1.pdf'}, 'id': 'call_mrYvrZLvVv3IAhTfN4M1ieqn', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1657, 'output_tokens': 22, 'total_tokens': 1679, 'input_token_details': {'audio': 0, 'cache_read': 1536}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "layout": "ACORD"\n  }\n}', 'id': 'lc_a69cceba-db23-467b-be9a-4e21476bf487'}], name='layout_detection_mcp', id='bdae8f5f-9014-4950-b5e3-ff988f4533b6', tool_call_id='call_mrYvrZLvVv3IAhTfN4M1ieqn')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 22, 'prompt_tokens': 1722, 'total_tokens': 1744, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1536}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JSJr7RGPPkPea0RTTgSBVLrzS1', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9366-fdc6-7ac0-b505-44e149b281fb-0', tool_calls=[{'name': 'document_extract_mcp', 'args': {'blob_url': 'quote_details_1.pdf'}, 'id': 'call_tHPtyVDa1MaRZGimdVV1dxvs', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1722, 'output_tokens': 22, 'total_tokens': 1744, 'input_token_details': {'audio': 0, 'cache_read': 1536}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "Document_Confidence_Score": 0.95\n  }\n}', 'id': 'lc_3972e05e-0579-45ac-ba7f-b1cd4df29ef9'}], name='document_extract_mcp', id='9912dcb2-3e27-4d5f-9755-0c62d6663abb', tool_call_id='call_tHPtyVDa1MaRZGimdVV1dxvs')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 1792, 'total_tokens': 1822, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1664}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JT2MOortiBg7sTkWBlZotc4mXy', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9367-00f7-7642-b931-72fbaea4d25f-0', tool_calls=[{'name': 'query_pdf_vectorizer_mcp', 'args': {'query': 'Type of insurance', 'blob_url': 'quote_details_1.pdf'}, 'id': 'call_w54rWYEPQQt3FNn3wITleGlT', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1792, 'output_tokens': 30, 'total_tokens': 1822, 'input_token_details': {'audio': 0, 'cache_read': 1664}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "embedded": true\n  }\n}', 'id': 'lc_e767fca9-9d2b-4499-9e8f-0eb5fe99968d'}], name='query_pdf_vectorizer_mcp', id='f0b40c4d-aadb-4d09-9f08-3edee8c351a3', tool_call_id='call_w54rWYEPQQt3FNn3wITleGlT')]}}
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 33, 'prompt_tokens': 1865, 'total_tokens': 1898, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 1664}}, 'model_provider': 'openai', 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_e05894342c', 'id': 'chatcmpl-DD2JUXknvAGwfgNmHWnc7eazHIKa0', 'prompt_filter_results': [{'prompt_index': 0, 'content_filter_results': {'hate': {'filtered': False, 'severity': 'safe'}, 'jailbreak': {'filtered': False, 'detected': False}, 'self_harm': {'filtered': False, 'severity': 'safe'}, 'sexual': {'filtered': False, 'severity': 'safe'}, 'violence': {'filtered': False, 'severity': 'safe'}}}], 'finish_reason': 'tool_calls', 'logprobs': None, 'content_filter_results': {}}, id='lc_run--019c9367-040d-74f2-9e7c-754265302ca8-0', tool_calls=[{'name': 'query_pdf_vectorizer_mcp', 'args': {'query': 'Please confirm type of insurance coverage', 'blob_url': 'quote_details_1.pdf'}, 'id': 'call_SZ7KCok3OSDwT3SESsoxQyQE', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1865, 'output_tokens': 33, 'total_tokens': 1898, 'input_token_details': {'audio': 0, 'cache_read': 1664}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
{'tools': {'messages': [ToolMessage(content=[{'type': 'text', 'text': '{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "embedded": true\n  }\n}', 'id': 'lc_62985faf-3c0e-4686-ae8f-d6663b535a8b'}], name='query_pdf_vectorizer_mcp', id='e8a7e78c-72b5-4c18-8add-c0f954fa547a', tool_call_id='call_SZ7KCok3OSDwT3SESsoxQyQE')]}}
Traceback (most recent call last):
  File "/home/Jarvis/Musaddique/project_root/eligibility_agent/langgraph_client.py", line 194, in <module>
    asyncio.run(main())
  File "/usr/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/asyncio/base_events.py", line 653, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/Jarvis/Musaddique/project_root/eligibility_agent/langgraph_client.py", line 186, in main
    async for step in graph.astream(
  File "/home/Jarvis/Musaddique/project_root/venv/lib/python3.11/site-packages/langgraph/pregel/main.py", line 3017, in astream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 40 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://docs.langchain.com/oss/python/langgraph/errors/GRAPH_RECURSION_LIMIT
(venv) Jarvis@JarvisPhase2:~/Musaddique/project_root/eligibility_agent$ 
